"use strict";var lightSelect=function(){return document.addEventListener?function(e){function t(e){e.stopPropagation();var t=this,n=h+"_opened";t=r(t),t.className.indexOf(n)<0?(l(),t.className+=" "+n):t.className=t.className.replace(new RegExp(" "+n,"g"),"")}function n(e){if(e.stopPropagation(),!(e.target.className.indexOf(h+"__item")<0)){for(var t=e.target,n=t.getAttribute("data-value"),a=t.innerHTML,c=this.querySelectorAll("."+h+"__item"),o=0,i=c.length;i>o;o++)c[o].className.indexOf(h+"__item_active")>=0&&(c[o].className=t.className.replace(new RegExp(" "+h+"__item_active","g"),""));t.className+=" "+h+"__item_active",t=r(t),t.querySelector("."+h+"__hidden").value=n,t.querySelector("."+h+"__title").innerHTML=a,l()}}function l(){for(var e=document.querySelectorAll("."+h),t=0,n=e.length;n>t;t++)e[t].className=e[t].className.replace(new RegExp(" "+h+"_opened","g"),"")}function r(e){for(;e.className.indexOf(h+" ")<0;)e=e.parentNode;return e}var a,c,o,i,s,u,m,d=e.selector||"select",h=e.customClass||"lightSelect",p=document.querySelectorAll(d),_=document.createElement("div"),g='<input class="'+h+'__hidden" type="hidden" name="" value="" />                   <div class="'+h+'__in">                     <span class="'+h+'__title"></span>                     <i class="'+h+'__arrow"></i>                   </div>                   <ul class="'+h+'__list">                   </ul>',f=!1;_.insertAdjacentHTML("afterBegin",g);for(var v=0,N=p.length;N>v;v++){i=_.cloneNode(!0),a=p[v].className,c=p[v].name,o=p[v].querySelectorAll("option"),i.className=h+" "+a,i.querySelector("."+h+"__hidden").name=c,s=i.querySelector("."+h+"__list");for(var S=0,C=o.length;C>S;S++)s.insertAdjacentHTML("beforeEnd",'<li class="'+h+'__item" data-value="'+o[S].value+'">'+o[S].innerHTML+"</li>"),o[S].selected&&(f=!0,s.querySelector("li:last-child").className+=" "+h+"__item_active");f||(i.querySelector("."+h+"__item:first-child").className+=" "+h+"__item_active"),u=i.querySelector("."+h+"__item_active"),i.querySelector("."+h+"__hidden").value=u.getAttribute("data-value"),i.querySelector("."+h+"__title").innerHTML=u.innerHTML,i.querySelector("."+h+"__in").addEventListener("click",t,!1),i.querySelector("."+h+"__list").addEventListener("click",n,!1),m=p[v].parentNode.replaceChild(i,p[v])}document.addEventListener("click",l),document.addEventListener("keyup",function(e){27===e.keyCode&&l()})}:function(){}}();
